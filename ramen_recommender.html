<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¼ë©´ ì¶”ì²œ ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-image: url('background.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 20px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .description {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            color: white;
            font-size: 0.95em;
            line-height: 1.6;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .network-image-container {
            text-align: center;
            margin: 30px 0;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .network-image-container img {
            max-width: 800px;
            width: 100%;
            height: auto;
            border-radius: 10px;
        }

        .search-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        input[type="text"] {
            flex: 1;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            outline: none;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus {
            border-color: #667eea;
        }

        button {
            padding: 15px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }

        button:hover {
            background: #5568d3;
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .suggestions {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: white;
            display: none;
        }

        .suggestion-item {
            padding: 12px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.2s;
        }

        .suggestion-item:hover {
            background: #f5f5f5;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .selected-ramen {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }

        .selected-ramen h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .results-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
        }

        .recommendation-item {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
        }

        .recommendation-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .recommendation-item.name-based {
            border-color: #ff9800;
            background: linear-gradient(135deg, #fff8f0 0%, #ffffff 100%);
        }

        .name-based-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #ff9800;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.75em;
            font-weight: bold;
        }

        .similarity-notice {
            background: #fff3cd;
            border-left: 4px solid #ff9800;
            padding: 12px 15px;
            margin-top: 15px;
            border-radius: 5px;
            font-size: 0.9em;
            color: #856404;
        }

        .recommendation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .ramen-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }

        .weight-badge {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }

        .shared-items {
            margin-top: 15px;
        }

        .shared-items h4 {
            color: #666;
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .item-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .item-tag {
            background: #f0f0f0;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            color: #555;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 1.1em;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #667eea;
            display: none;
        }

        .stats {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }

        .stats span {
            font-weight: bold;
            color: #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸœ ë¼ë©´ ì¶”ì²œ ì‹œìŠ¤í…œ</h1>
        
        <div class="description">
            í˜¹ì‹œ í¸ì˜ì ì—ì„œ ë¼ë©´ì„ ë¨¹ìœ¼ë ¤ëŠ”ë° ì¢‹ì•„í•˜ëŠ” ë¼ë©´ì´ í’ˆì ˆì¸ê°€ìš”?? ìì‹ ì˜ ì…ë§›ì— ë§ëŠ” ìƒˆë¡œìš´ ë¼ë©´ì„ ì°¾ê³  ì‹¶ë‚˜ìš”?? ì €í¬ ì „ë‚¨ê³¼í•™ê³  AI Research ë„¤íŠ¸ì›Œí¬ ê³¼í•™ 1ì¡°ëŠ” ê·¸ëŸ° ì—¬ëŸ¬ë¶„ë“¤ì„ ìœ„í•´ ë¼ë©´ ì˜ì–‘ì„±ë¶„ì„ ì¶”ì¶œí•˜ì—¬ í˜•ì„±í•œ ë„¤íŠ¸ì›Œí¬ ê¸°ë°˜ìœ¼ë¡œ ë¼ë©´ ì¶”ì²œì‹œìŠ¤í…œì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤!
        </div>

        <div class="network-image-container">
            <img src="network_graph.png" alt="ë¼ë©´ ë„¤íŠ¸ì›Œí¬ ê·¸ë˜í”„" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div style="display:none; color:#999; padding:20px; text-align:center;">
                <p style="margin-bottom:10px;">ë„¤íŠ¸ì›Œí¬ ê·¸ë˜í”„ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                <p style="font-size:0.9em;">network_graph.png íŒŒì¼ì„ ì´ HTML íŒŒì¼ê³¼ ê°™ì€ í´ë”ì— ì €ì¥í•´ì£¼ì„¸ìš”.</p>
                <p style="font-size:0.85em; margin-top:10px; color:#777;">ì´ë¯¸ì§€ê°€ ì—†ì–´ë„ ì¶”ì²œ ê¸°ëŠ¥ì€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.</p>
            </div>
        </div>
        
        <div class="search-container">
            <div class="search-box">
                <input type="text" id="ramenInput" placeholder="ì¢‹ì•„í•˜ëŠ” ë¼ë©´ì„ ì…ë ¥í•˜ì„¸ìš”...">
                <button id="searchBtn" onclick="searchRamen()">ê²€ìƒ‰</button>
            </div>
            <div class="suggestions" id="suggestions"></div>
            <div class="selected-ramen" id="selectedRamen">
                <h3>ì„ íƒëœ ë¼ë©´</h3>
                <p id="selectedRamenName"></p>
            </div>
        </div>

        <div class="results-container" id="resultsContainer">
            <div class="stats">
                <p><span id="resultCount">0</span>ê°œì˜ ì¶”ì²œ ë¼ë©´ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤</p>
            </div>
            <div id="recommendations"></div>
        </div>

        <div class="loading" id="loading">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    </div>

    <!-- ë¼ë©´ ë°ì´í„° ë¡œë“œ -->
    <script src="ramen_data.js"></script>
    
    <script>
        let nodes = [];
        let edges = [];
        let graph = {};

        // ë°ì´í„° ë¡œë“œ
        function loadData() {
            document.getElementById('loading').style.display = 'block';
            
            try {
                // JavaScript ë³€ìˆ˜ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                nodes = ramenNodes;
                edges = ramenEdges;
                
                // ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
                buildGraph();
                
                // ê²€ìƒ‰ ì…ë ¥ í•„ë“œ í™œì„±í™”
                setupSearchInput();
                
                document.getElementById('loading').style.display = 'none';
            } catch (error) {
                console.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                alert('ë°ì´í„°ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ramen_data.js íŒŒì¼ì´ ê°™ì€ í´ë”ì— ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.');
                document.getElementById('loading').style.display = 'none';
            }
        }

        // ê·¸ë˜í”„ êµ¬ì¡° ìƒì„±
        function buildGraph() {
            graph = {};
            
            // ê° ë…¸ë“œì— ëŒ€í•œ ì—°ê²° ì •ë³´ ì €ì¥
            edges.forEach(edge => {
                const source = (edge.Source || '').trim();
                const target = (edge.Target || '').trim();
                const weight = parseInt(edge.Weight) || 0;
                const sharedItems = edge.shared_items ? edge.shared_items.split(';').filter(item => item.trim()) : [];
                
                if (!source || !target) return;
                
                if (!graph[source]) {
                    graph[source] = [];
                }
                if (!graph[target]) {
                    graph[target] = [];
                }
                
                graph[source].push({
                    node: target,
                    weight: weight,
                    sharedItems: sharedItems
                });
                
                graph[target].push({
                    node: source,
                    weight: weight,
                    sharedItems: sharedItems
                });
            });
            
            console.log('ê·¸ë˜í”„ ìƒì„± ì™„ë£Œ:', Object.keys(graph).length, 'ê°œ ë…¸ë“œ');
            console.log('ë¶ˆë‹­ë³¶ìŒë©´ ê·¸ë˜í”„ í‚¤ í™•ì¸:', graph.hasOwnProperty('ë¶ˆë‹­ë³¶ìŒë©´'));
            if (graph['ë¶ˆë‹­ë³¶ìŒë©´']) {
                console.log('ë¶ˆë‹­ë³¶ìŒë©´ ì—°ê²°:', graph['ë¶ˆë‹­ë³¶ìŒë©´'].length, 'ê°œ');
            }
        }

        // ê²€ìƒ‰ ì…ë ¥ í•„ë“œ ì„¤ì •
        function setupSearchInput() {
            const input = document.getElementById('ramenInput');
            const suggestions = document.getElementById('suggestions');
            
            input.addEventListener('input', function() {
                const query = this.value.trim().toLowerCase();
                
                if (query.length === 0) {
                    suggestions.style.display = 'none';
                    return;
                }
                
                // ë…¸ë“œì—ì„œ ì¼ì¹˜í•˜ëŠ” ë¼ë©´ ì°¾ê¸°
                const matches = nodes
                    .filter(node => {
                        const label = (node.Label || '').trim();
                        return label && label.toLowerCase().includes(query);
                    })
                    .slice(0, 10)
                    .map(node => node.Label.trim());
                
                if (matches.length > 0) {
                    suggestions.innerHTML = matches.map(match => 
                        `<div class="suggestion-item" onclick="selectRamen('${match}')">${match}</div>`
                    ).join('');
                    suggestions.style.display = 'block';
                } else {
                    suggestions.style.display = 'none';
                }
            });
            
            // Enter í‚¤ë¡œ ê²€ìƒ‰
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchRamen();
                }
            });
        }

        // ë¼ë©´ ì„ íƒ
        function selectRamen(ramenName) {
            document.getElementById('ramenInput').value = ramenName;
            document.getElementById('suggestions').style.display = 'none';
        }

        // ë¼ë©´ ê²€ìƒ‰ ë° ì¶”ì²œ
        function searchRamen() {
            const input = document.getElementById('ramenInput').value.trim();
            
            if (!input) {
                alert('ë¼ë©´ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì •í™•í•œ ì´ë¦„ ì°¾ê¸° (ëŒ€ì†Œë¬¸ì ë¬´ì‹œ)
            let ramenNode = nodes.find(node => {
                const label = (node.Label || '').trim();
                return label === input;
            });
            
            if (!ramenNode) {
                // ë¶€ë¶„ ì¼ì¹˜ë¡œ ì°¾ê¸°
                const similar = nodes.find(node => {
                    const label = (node.Label || '').trim().toLowerCase();
                    return label.includes(input.toLowerCase()) || input.toLowerCase().includes(label);
                });
                if (similar) {
                    console.log('ë¶€ë¶„ ì¼ì¹˜ë¡œ ì°¾ìŒ:', similar.Label);
                    showRecommendations(similar.Label.trim());
                    return;
                }
                
                alert('í•´ë‹¹ ë¼ë©´ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì •í™•í•œ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                console.log('ê²€ìƒ‰ ì‹¤íŒ¨:', input);
                console.log('ì‚¬ìš© ê°€ëŠ¥í•œ ë…¸ë“œ ìƒ˜í”Œ:', nodes.slice(0, 5).map(n => n.Label));
                return;
            }
            
            console.log('ë…¸ë“œ ì°¾ìŒ:', ramenNode.Label);
            showRecommendations(ramenNode.Label.trim());
        }

        // ì¶”ì²œ ê²°ê³¼ í‘œì‹œ
        function showRecommendations(ramenName) {
            ramenName = ramenName.trim();
            
            // ì„ íƒëœ ë¼ë©´ í‘œì‹œ
            document.getElementById('selectedRamen').style.display = 'block';
            document.getElementById('selectedRamenName').textContent = ramenName;
            
            console.log('ì¶”ì²œ ê²€ìƒ‰:', ramenName);
            console.log('ê·¸ë˜í”„ì— í‚¤ê°€ ìˆëŠ”ì§€:', graph.hasOwnProperty(ramenName));
            console.log('ê·¸ë˜í”„ í‚¤ ìƒ˜í”Œ:', Object.keys(graph).slice(0, 5));
            
            // ì—°ê²°ëœ ë¼ë©´ ì°¾ê¸°
            let connections = graph[ramenName] || [];
            
            // ë§Œì•½ ì§ì ‘ ë§¤ì¹­ì´ ì•ˆë˜ë©´ ìœ ì‚¬í•œ í‚¤ ì°¾ê¸°
            if (connections.length === 0) {
                const graphKeys = Object.keys(graph);
                const exactMatch = graphKeys.find(key => key.trim() === ramenName);
                if (exactMatch) {
                    console.log('ì •í™•í•œ ë§¤ì¹­ ì°¾ìŒ:', exactMatch);
                    connections = graph[exactMatch] || [];
                } else {
                    // ìœ ì‚¬í•œ ì´ë¦„ ì°¾ê¸°
                    const similarKey = graphKeys.find(key => {
                        const keyTrim = key.trim().toLowerCase();
                        const nameTrim = ramenName.toLowerCase();
                        return keyTrim === nameTrim || keyTrim.includes(nameTrim) || nameTrim.includes(keyTrim);
                    });
                    if (similarKey) {
                        console.log('ìœ ì‚¬í•œ í‚¤ ì°¾ìŒ:', similarKey);
                        connections = graph[similarKey] || [];
                        ramenName = similarKey; // í‘œì‹œ ì´ë¦„ë„ ì—…ë°ì´íŠ¸
                        document.getElementById('selectedRamenName').textContent = ramenName;
                    }
                }
            }
            
            console.log('ì°¾ì€ ì—°ê²° ìˆ˜:', connections.length);
            
            // ì—°ê²°ëœ ë¼ë©´ì´ ì—†ê±°ë‚˜ 10ê°œ ë¯¸ë§Œì˜ ì˜ì–‘ì„±ë¶„ë§Œ ê²¹ì¹˜ëŠ” ê²½ìš° ì´ë¦„ ìœ ì‚¬ë„ë¡œ ì¶”ì²œ
            let isNameBasedRecommendation = false;
            
            if (connections.length === 0) {
                // ì´ë¦„ ìœ ì‚¬ë„ ê¸°ë°˜ ì¶”ì²œ
                const nameBasedRecommendations = getNameBasedRecommendations(ramenName);
                if (nameBasedRecommendations.length > 0) {
                    connections = nameBasedRecommendations;
                    isNameBasedRecommendation = true;
                } else {
                    document.getElementById('recommendations').innerHTML = 
                        '<div class="no-results">ì´ ë¼ë©´ê³¼ ì—°ê²°ëœ ë‹¤ë¥¸ ë¼ë©´ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
                    document.getElementById('resultsContainer').style.display = 'block';
                    document.getElementById('resultCount').textContent = '0';
                    return;
                }
            } else {
                // ê°€ì¤‘ì¹˜ê°€ 10 ë¯¸ë§Œì¸ ì—°ê²°ë§Œ ìˆëŠ” ê²½ìš° ì´ë¦„ ìœ ì‚¬ë„ë¡œ ë³´ì™„
                const filteredConnections = connections.filter(conn => conn.weight >= 10);
                if (filteredConnections.length === 0) {
                    const nameBasedRecommendations = getNameBasedRecommendations(ramenName);
                    if (nameBasedRecommendations.length > 0) {
                        connections = nameBasedRecommendations;
                        isNameBasedRecommendation = true;
                    }
                } else {
                    connections = filteredConnections;
                }
            }
            
            // ê°€ì¤‘ì¹˜ ìˆœìœ¼ë¡œ ì •ë ¬
            connections.sort((a, b) => b.weight - a.weight);
            
            // ê²°ê³¼ HTML ìƒì„±
            const recommendationsHTML = connections.map((conn, index) => {
                const sharedItemsHTML = conn.sharedItems && conn.sharedItems.length > 0
                    ? `<div class="shared-items">
                          <h4>ê³µìœ  ì˜ì–‘ì„±ë¶„ (${conn.sharedItems.length}ê°œ):</h4>
                          <div class="item-tags">
                              ${conn.sharedItems.map(item => 
                                  `<span class="item-tag">${item.trim()}</span>`
                              ).join('')}
                          </div>
                       </div>`
                    : '';
                
                const nameBasedClass = isNameBasedRecommendation ? ' name-based' : '';
                const nameBasedBadge = isNameBasedRecommendation ? '<div class="name-based-badge">ì´ë¦„ ìœ ì‚¬ë„</div>' : '';
                const similarityNotice = isNameBasedRecommendation && index === 0 
                    ? '<div class="similarity-notice">âš ï¸ ê²¹ì¹˜ëŠ” ì˜ì–‘ì„±ë¶„ì´ ë‹¤ì†Œ ë¹ˆì•½í•´ ì´ë¦„ ìœ ì‚¬ë„ë¡œ ì¶”ì²œí•©ë‹ˆë‹¤.</div>' 
                    : '';
                
                return `
                    <div class="recommendation-item${nameBasedClass}">
                        ${nameBasedBadge}
                        <div class="recommendation-header">
                            <span class="ramen-name">${conn.node}</span>
                            <span class="weight-badge">${isNameBasedRecommendation ? 'ìœ ì‚¬ë„: ' + conn.weight.toFixed(1) : 'ìœ ì‚¬ë„: ' + conn.weight}</span>
                        </div>
                        ${sharedItemsHTML}
                        ${similarityNotice}
                    </div>
                `;
            }).join('');
            
            document.getElementById('recommendations').innerHTML = recommendationsHTML;
            document.getElementById('resultsContainer').style.display = 'block';
            document.getElementById('resultCount').textContent = connections.length;
            
            // ê²°ê³¼ ì˜ì—­ìœ¼ë¡œ ìŠ¤í¬ë¡¤
            document.getElementById('resultsContainer').scrollIntoView({ behavior: 'smooth' });
        }

        // ì´ë¦„ ìœ ì‚¬ë„ ê¸°ë°˜ ì¶”ì²œ (ë¼ë©´ ë‹¨ì–´ ì œì™¸, í‚¤ì›Œë“œ ì¶”ì¶œ)
        function getNameBasedRecommendations(ramenName) {
            // "ë¼ë©´", "ë©´"ë§Œ ì œê±° (ë¶ˆë‹­ë³¶ìŒë©´, ì»µëˆ„ë“¤ì€ ìœ ì§€)
            const extractKeywords = (name) => {
                return name
                    .replace(/ë¼ë©´/g, '')
                    .replace(/ë©´/g, '')
                    .trim();
            };
            
            const keywords = extractKeywords(ramenName);
            if (!keywords) {
                return [];
            }
            
            // ëª¨ë“  ë…¸ë“œì™€ ìœ ì‚¬ë„ ê³„ì‚°
            const allRamen = nodes.map(node => ({
                name: node.Label.trim(),
                keywords: extractKeywords(node.Label.trim()),
                similarity: calculateNameSimilarity(keywords, extractKeywords(node.Label.trim()))
            }))
            .filter(item => 
                item.name !== ramenName && 
                item.similarity > 0 &&
                item.keywords.length > 0
            )
            .sort((a, b) => b.similarity - a.similarity)
            .slice(0, 10)
            .map(item => ({
                node: item.name,
                weight: item.similarity * 10, // 0-10 ìŠ¤ì¼€ì¼ë¡œ ë³€í™˜
                sharedItems: [],
                isNameBased: true
            }));
            
            return allRamen;
        }
        
        // ì´ë¦„ ìœ ì‚¬ë„ ê³„ì‚° (í‚¤ì›Œë“œ ë§¤ì¹­)
        function calculateNameSimilarity(keywords1, keywords2) {
            if (!keywords1 || !keywords2 || keywords1.length === 0 || keywords2.length === 0) {
                return 0;
            }
            
            // í‚¤ì›Œë“œë¥¼ ê°œë³„ ë¬¸ìë‚˜ ìŒì ˆ ë‹¨ìœ„ë¡œ ë¶„ë¦¬
            const getCharNgrams = (text, n = 2) => {
                const ngrams = [];
                for (let i = 0; i <= text.length - n; i++) {
                    ngrams.push(text.substr(i, n));
                }
                return ngrams;
            };
            
            // 2-gram ê¸°ë°˜ ìœ ì‚¬ë„
            const ngrams1 = getCharNgrams(keywords1);
            const ngrams2 = getCharNgrams(keywords2);
            
            const intersection = ngrams1.filter(ng => ngrams2.includes(ng));
            const union = [...new Set([...ngrams1, ...ngrams2])];
            
            const jaccardSimilarity = union.length > 0 ? intersection.length / union.length : 0;
            
            // í‚¤ì›Œë“œ ì™„ì „ ì¼ì¹˜ ë³´ë„ˆìŠ¤
            let exactMatchBonus = 0;
            const keywords1List = keywords1.split(/[\s\-_]+/).filter(k => k.length > 1);
            const keywords2List = keywords2.split(/[\s\-_]+/).filter(k => k.length > 1);
            
            keywords1List.forEach(k1 => {
                keywords2List.forEach(k2 => {
                    if (k1 === k2 && k1.length >= 2) {
                        exactMatchBonus += 0.3;
                    } else if (k1.includes(k2) || k2.includes(k1)) {
                        exactMatchBonus += 0.15;
                    }
                });
            });
            
            return Math.min(1, jaccardSimilarity + exactMatchBonus);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ë¡œë“œ
        window.addEventListener('DOMContentLoaded', loadData);
    </script>
</body>
</html>
